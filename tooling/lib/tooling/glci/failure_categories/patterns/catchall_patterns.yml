# catchall_patterns.yml
# Ruby
- pattern: "Control frame information"
  failure_category: "ruby_crash_core_dump"
- pattern: "ruby: YJIT has panicked"
  failure_category: "ruby_yjit_panick"
- pattern: "OpenSSL::SSL::SSLError"
  failure_category: "ruby_openssl"
- pattern: "LoadError:"
  failure_category: "ruby_could_not_load_file"
- pattern: "cannot load such file"
  failure_category: "ruby_could_not_load_file"
- pattern: "undefined local variable or method `"
  failure_category: "ruby_undefined_method_or_variable"
- pattern: "undefined method `"
  failure_category: "ruby_undefined_method_or_variable"
- pattern: "FrozenError:"
  failure_category: "ruby_frozen"
- pattern: "wrong argument type.+expected.+"
  failure_category: "ruby_wrong_argument_type"
- pattern: "uninitialized constant "
  failure_category: "ruby_uninitialized_constant"
- pattern: "GitlabSettings::MissingSetting"
  failure_category: "ruby_gitlab_settings_missing_setting"
- pattern: "syntax error, unexpected"
  failure_category: "ruby_syntax"
- pattern: "SyntaxError"
  failure_category: "ruby_syntax"
- pattern: "EOFError"
  failure_category: "ruby_eof"
- pattern: "TypeError:"
  failure_category: "ruby_type"
- pattern: "RuntimeError"
  failure_category: "ruby_runtime_exception"
- pattern: "unknown keyword:"
  failure_category: "ruby_unknown_keyword"
- pattern: "wrong number of arguments \\(gven"
  failure_category: "ruby_wrong_number_of_arguments"
- pattern: "bundler: failed to load command: "
  failure_category: "ruby_bundler_command_failed"
- pattern: "Failure/Error:"
  failure_category: "ruby_generic_failure"
- pattern: ":in `"
  failure_category: "ruby_generic_failure"

# Timeouts
- pattern: "execution took longer than 1h30m0s seconds"
  failure_category: "job_timeouts"
- pattern: "Rspec suite is exceeding the 80 minute limit and is forced to exit with error"
  failure_category: "rspec_at_80_min"

# Makefile
- pattern: "make: .+ Error 1"
  failure_category: "makefile"

# Shell
- pattern: "unbound variable"
  failure_category: "shell_unbound_variable"
- pattern: ": syntax error"
  failure_category: "shell_syntax"
- pattern: ": Permission denied"
  failure_category: "shell_permission"
- pattern: ": No such file or directory"
  failure_category: "shell_file_not_found"
- pattern: ": command not found"
  failure_category: "shell_command_not_found"
- pattern: ": not in a function"
  failure_category: "shell_not_in_function"
- pattern: "readonly variable"
  failure_category: "shell_readonly_variable"
- pattern: "gzip: stdin: unexpected end of file"
  failure_category: "shell_could_not_gzip"

# Infrastructure
- pattern: "ERROR: .+ IO ERROR"
  failure_category: "io"
- pattern: "curl.+The requested URL returned error"
  failure_category: "could_not_curl"
- pattern: "Connection reset by peer - SSL_connect"
  failure_category: "ssl_connect_reset_by_peer"
- pattern: "Server responded with code"
  failure_category: "http"
- pattern: "400 Bad Request"
  failure_category: "http"
- pattern: "503 Service Unavailable"
  failure_category: "http"
- pattern: "Net::HTTPClientException"
  failure_category: "http"
- pattern: "Net::HTTPFatalError"
  failure_category: "http"
- pattern: "Error: Failed to open TCP connection to "
  failure_category: "failed_to_open_tcp_connection"
- pattern: "fatal: Authentication failed for"
  failure_category: "authentication_failures"
- pattern: "HTTP Basic: Access denied"
  failure_category: "authentication_failures"

# Job canceled
- pattern: "ERROR: Job failed: canceled"
  failure_category: "unknown_failure_canceled"

# E2E
- pattern: "failed to load command: bin/qa"
  failure_category: "e2e_specs"
- pattern: "failed to load command: gitlab-qa"
  failure_category: "e2e_specs"
- pattern: "QA::Tools::ReadinessCheck::ReadinessCheckError"
  failure_category: "e2e_specs"
- pattern: "Testcase link violations detected"
  failure_category: "e2e_lint"

# Other
- pattern: "An unexpected error occurred"
  failure_category: "unexpected"
